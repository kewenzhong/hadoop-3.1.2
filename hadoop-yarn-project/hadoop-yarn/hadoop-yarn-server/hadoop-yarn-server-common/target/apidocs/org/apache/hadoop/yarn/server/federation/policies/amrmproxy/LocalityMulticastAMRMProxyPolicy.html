<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_202) on Mon Apr 08 14:54:55 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LocalityMulticastAMRMProxyPolicy (Apache Hadoop YARN Server Common 3.1.2 API)</title>
<meta name="date" content="2019-04-08">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LocalityMulticastAMRMProxyPolicy (Apache Hadoop YARN Server Common 3.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/LocalityMulticastAMRMProxyPolicy.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/RejectAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html" target="_top">框架</a></li>
<li><a href="LocalityMulticastAMRMProxyPolicy.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.yarn.server.federation.policies.amrmproxy</div>
<h2 title="类 LocalityMulticastAMRMProxyPolicy" class="title">类 LocalityMulticastAMRMProxyPolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies中的类">org.apache.hadoop.yarn.server.federation.policies.AbstractConfigurableFederationPolicy</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/AbstractAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的类">org.apache.hadoop.yarn.server.federation.policies.amrmproxy.AbstractAMRMProxyPolicy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.yarn.server.federation.policies.amrmproxy.LocalityMulticastAMRMProxyPolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的接口">FederationAMRMProxyPolicy</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/ConfigurableFederationPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies中的接口">ConfigurableFederationPolicy</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LocalityMulticastAMRMProxyPolicy</span>
extends <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/AbstractAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的类">AbstractAMRMProxyPolicy</a></pre>
<div class="block">An implementation of the <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的接口"><code>FederationAMRMProxyPolicy</code></a> interface that
 carefully multicasts the requests with the following behavior:

 <p>
 Host localized <code>ResourceRequest</code>s are always forwarded to the RM that
 owns the corresponding node, based on the feedback of a
 <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/resolver/SubClusterResolver.html" title="org.apache.hadoop.yarn.server.federation.resolver中的接口"><code>SubClusterResolver</code></a>. If the <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/resolver/SubClusterResolver.html" title="org.apache.hadoop.yarn.server.federation.resolver中的接口"><code>SubClusterResolver</code></a> cannot resolve
 this node we default to forwarding the <code>ResourceRequest</code> to the home
 sub-cluster.
 </p>

 <p>
 Rack localized <code>ResourceRequest</code>s are forwarded to the RMs that owns
 the corresponding rack. Note that in some deployments each rack could be
 striped across multiple RMs. Thsi policy respects that. If the
 <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/resolver/SubClusterResolver.html" title="org.apache.hadoop.yarn.server.federation.resolver中的接口"><code>SubClusterResolver</code></a> cannot resolve this rack we default to forwarding
 the <code>ResourceRequest</code> to the home sub-cluster.
 </p>

 <p>
 ANY requests corresponding to node/rack local requests are forwarded only to
 the set of RMs that owns the corresponding localized requests. The number of
 containers listed in each ANY is proportional to the number of localized
 container requests (associated to this ANY via the same allocateRequestId).
 </p>

 <p>
 ANY that are not associated to node/rack local requests are split among RMs
 based on the "weights" in the <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/dao/WeightedPolicyInfo.html" title="org.apache.hadoop.yarn.server.federation.policies.dao中的类"><code>WeightedPolicyInfo</code></a> configuration *and*
 headroom information. The <code>headroomAlpha</code> parameter of the policy
 configuration indicates how much headroom contributes to the splitting
 choice. Value of 1.0f indicates the weights are interpreted only as 0/1
 boolean but all splitting is based on the advertised headroom (fallback to
 1/N for RMs that we don't have headroom info from). An <code>headroomAlpha</code>
 value of 0.0f means headroom is ignored and all splitting decisions are
 proportional to the "weights" in the configuration of the policy.
 </p>

 <p>
 ANY of zero size are forwarded to all known subclusters (i.e., subclusters
 where we scheduled containers before), as they may represent a user attempt
 to cancel a previous request (and we are mostly stateless now, so should
 forward to all known RMs).
 </p>

 <p>
 Invariants:
 </p>

 <p>
 The policy always excludes non-active RMs.
 </p>

 <p>
 The policy always excludes RMs that do not appear in the policy configuration
 weights, or have a weight of 0 (even if localized resources explicit refer to
 it).
 </p>

 <p>
 (Bar rounding to closest ceiling of fractional containers) The sum of
 requests made to multiple RMs at the ANY level "adds-up" to the user request.
 The maximum possible excess in a given request is a number of containers less
 or equal to number of sub-clusters in the federation.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#LocalityMulticastAMRMProxyPolicy--">LocalityMulticastAMRMProxyPolicy</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="java.util中的类或接口">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="java.lang中的类或接口">Integer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#computeIntegerAssignment-int-java.util.ArrayList-">computeIntegerAssignment</a></span>(int&nbsp;totalNum,
                        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="java.util中的类或接口">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Float.html?is-external=true" title="java.lang中的类或接口">Float</a>&gt;&nbsp;weightsList)</code>
<div class="block">Split the integer into bins according to the weights.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#notifyOfResponse-org.apache.hadoop.yarn.server.federation.store.records.SubClusterId-org.apache.hadoop.yarn.api.protocolrecords.AllocateResponse-">notifyOfResponse</a></span>(<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/store/records/SubClusterId.html" title="org.apache.hadoop.yarn.server.federation.store.records中的类">SubClusterId</a>&nbsp;subClusterId,
                org.apache.hadoop.yarn.api.protocolrecords.AllocateResponse&nbsp;response)</code>
<div class="block">This method should be invoked to notify the policy about responses being
 received.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#reinitialize-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">reinitialize</a></span>(<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/FederationPolicyInitializationContext.html" title="org.apache.hadoop.yarn.server.federation.policies中的类">FederationPolicyInitializationContext</a>&nbsp;policyContext)</code>
<div class="block">This method is invoked to initialize of update the configuration of
 policies.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="java.util中的类或接口">Map</a>&lt;<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/store/records/SubClusterId.html" title="org.apache.hadoop.yarn.server.federation.store.records中的类">SubClusterId</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.yarn.api.records.ResourceRequest&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html#splitResourceRequests-java.util.List-">splitResourceRequests</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.yarn.api.records.ResourceRequest&gt;&nbsp;resourceRequests)</code>
<div class="block">Splits the <code>ResourceRequest</code>s from the client across one or more
 sub-clusters based on the policy semantics (e.g., broadcast, load-based).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.yarn.server.federation.policies.amrmproxy.AbstractAMRMProxyPolicy">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.yarn.server.federation.policies.amrmproxy.<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/AbstractAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的类">AbstractAMRMProxyPolicy</a></h3>
<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/AbstractAMRMProxyPolicy.html#validate-org.apache.hadoop.yarn.server.federation.policies.dao.WeightedPolicyInfo-">validate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.yarn.server.federation.policies.AbstractConfigurableFederationPolicy">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.yarn.server.federation.policies.<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies中的类">AbstractConfigurableFederationPolicy</a></h3>
<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#getActiveSubclusters--">getActiveSubclusters</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#getIsDirty--">getIsDirty</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#getPolicyContext--">getPolicyContext</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#getPolicyInfo--">getPolicyInfo</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#setPolicyContext-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">setPolicyContext</a>, <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#setPolicyInfo-org.apache.hadoop.yarn.server.federation.policies.dao.WeightedPolicyInfo-">setPolicyInfo</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOG</h4>
<pre>public static final&nbsp;org.slf4j.Logger LOG</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="LocalityMulticastAMRMProxyPolicy--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LocalityMulticastAMRMProxyPolicy</h4>
<pre>public&nbsp;LocalityMulticastAMRMProxyPolicy()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="reinitialize-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reinitialize</h4>
<pre>public&nbsp;void&nbsp;reinitialize(<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/FederationPolicyInitializationContext.html" title="org.apache.hadoop.yarn.server.federation.policies中的类">FederationPolicyInitializationContext</a>&nbsp;policyContext)
                  throws <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/exceptions/FederationPolicyInitializationException.html" title="org.apache.hadoop.yarn.server.federation.policies.exceptions中的类">FederationPolicyInitializationException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/ConfigurableFederationPolicy.html#reinitialize-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">ConfigurableFederationPolicy</a></code></span></div>
<div class="block">This method is invoked to initialize of update the configuration of
 policies. The implementor should provide try-n-swap semantics, and retain
 state if possible.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/ConfigurableFederationPolicy.html#reinitialize-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">reinitialize</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/ConfigurableFederationPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies中的接口">ConfigurableFederationPolicy</a></code></dd>
<dt><span class="overrideSpecifyLabel">覆盖:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html#reinitialize-org.apache.hadoop.yarn.server.federation.policies.FederationPolicyInitializationContext-">reinitialize</a></code>&nbsp;在类中&nbsp;<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/AbstractConfigurableFederationPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies中的类">AbstractConfigurableFederationPolicy</a></code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>policyContext</code> - the new context to provide to implementor.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/exceptions/FederationPolicyInitializationException.html" title="org.apache.hadoop.yarn.server.federation.policies.exceptions中的类">FederationPolicyInitializationException</a></code> - in case the initialization
           fails.</dd>
</dl>
</li>
</ul>
<a name="notifyOfResponse-org.apache.hadoop.yarn.server.federation.store.records.SubClusterId-org.apache.hadoop.yarn.api.protocolrecords.AllocateResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyOfResponse</h4>
<pre>public&nbsp;void&nbsp;notifyOfResponse(<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/store/records/SubClusterId.html" title="org.apache.hadoop.yarn.server.federation.store.records中的类">SubClusterId</a>&nbsp;subClusterId,
                             org.apache.hadoop.yarn.api.protocolrecords.AllocateResponse&nbsp;response)
                      throws org.apache.hadoop.yarn.exceptions.YarnException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html#notifyOfResponse-org.apache.hadoop.yarn.server.federation.store.records.SubClusterId-org.apache.hadoop.yarn.api.protocolrecords.AllocateResponse-">FederationAMRMProxyPolicy</a></code></span></div>
<div class="block">This method should be invoked to notify the policy about responses being
 received. This is useful for stateful policies that make decisions based on
 previous responses being received.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>subClusterId</code> - the id of the subcluster sending the notification</dd>
<dd><code>response</code> - the response received from one of the RMs</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>org.apache.hadoop.yarn.exceptions.YarnException</code> - in case the response is not valid</dd>
</dl>
</li>
</ul>
<a name="splitResourceRequests-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitResourceRequests</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="java.util中的类或接口">Map</a>&lt;<a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/store/records/SubClusterId.html" title="org.apache.hadoop.yarn.server.federation.store.records中的类">SubClusterId</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.yarn.api.records.ResourceRequest&gt;&gt;&nbsp;splitResourceRequests(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.hadoop.yarn.api.records.ResourceRequest&gt;&nbsp;resourceRequests)
                                                                                                 throws org.apache.hadoop.yarn.exceptions.YarnException</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html#splitResourceRequests-java.util.List-">FederationAMRMProxyPolicy</a></code></span></div>
<div class="block">Splits the <code>ResourceRequest</code>s from the client across one or more
 sub-clusters based on the policy semantics (e.g., broadcast, load-based).</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>resourceRequests</code> - the list of <code>ResourceRequest</code>s from the AM to
          be split</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>map of sub-cluster as identified by <a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/store/records/SubClusterId.html" title="org.apache.hadoop.yarn.server.federation.store.records中的类"><code>SubClusterId</code></a> to the
         list of <code>ResourceRequest</code>s that should be forwarded to it</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>org.apache.hadoop.yarn.exceptions.YarnException</code> - in case the request is malformed or no viable
           sub-clusters can be found.</dd>
</dl>
</li>
</ul>
<a name="computeIntegerAssignment-int-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>computeIntegerAssignment</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="java.util中的类或接口">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="java.lang中的类或接口">Integer</a>&gt;&nbsp;computeIntegerAssignment(int&nbsp;totalNum,
                                                      <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="java.util中的类或接口">ArrayList</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Float.html?is-external=true" title="java.lang中的类或接口">Float</a>&gt;&nbsp;weightsList)
                                               throws org.apache.hadoop.yarn.exceptions.YarnException</pre>
<div class="block">Split the integer into bins according to the weights.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>totalNum</code> - total number of containers to split</dd>
<dd><code>weightsList</code> - the weights for each subcluster</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the container allocation after split</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code>org.apache.hadoop.yarn.exceptions.YarnException</code> - if fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/LocalityMulticastAMRMProxyPolicy.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/FederationAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../../../org/apache/hadoop/yarn/server/federation/policies/amrmproxy/RejectAMRMProxyPolicy.html" title="org.apache.hadoop.yarn.server.federation.policies.amrmproxy中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/hadoop/yarn/server/federation/policies/amrmproxy/LocalityMulticastAMRMProxyPolicy.html" target="_top">框架</a></li>
<li><a href="LocalityMulticastAMRMProxyPolicy.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2019 <a href="http://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
