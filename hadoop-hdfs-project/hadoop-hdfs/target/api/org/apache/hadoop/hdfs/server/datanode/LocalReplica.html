<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_202) on Mon Apr 08 14:48:46 CST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LocalReplica (Apache Hadoop HDFS 3.1.2 API)</title>
<meta name="date" content="2019-04-08">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LocalReplica (Apache Hadoop HDFS 3.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":9,"i24":10,"i25":10,"i26":10,"i27":10,"i28":9,"i29":10,"i30":10};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/LocalReplica.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/FinalizedReplica.html" title="org.apache.hadoop.hdfs.server.datanode中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.ReplicaDirInfo.html" title="org.apache.hadoop.hdfs.server.datanode中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/datanode/LocalReplica.html" target="_top">框架</a></li>
<li><a href="LocalReplica.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.hadoop.hdfs.protocol.Block">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.datanode</div>
<h2 title="类 LocalReplica" class="title">类 LocalReplica</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.protocol.Block</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.datanode.LocalReplica</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="java.lang中的类或接口">Comparable</a>&lt;org.apache.hadoop.hdfs.protocol.Block&gt;, org.apache.hadoop.hdfs.server.datanode.Replica, org.apache.hadoop.io.Writable, org.apache.hadoop.util.LightWeightGSet.LinkedElement</dd>
</dl>
<dl>
<dt>直接已知子类:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/FinalizedReplica.html" title="org.apache.hadoop.hdfs.server.datanode中的类">FinalizedReplica</a>, <a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplicaInPipeline.html" title="org.apache.hadoop.hdfs.server.datanode中的类">LocalReplicaInPipeline</a>, <a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/ReplicaUnderRecovery.html" title="org.apache.hadoop.hdfs.server.datanode中的类">ReplicaUnderRecovery</a>, <a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/ReplicaWaitingToBeRecovered.html" title="org.apache.hadoop.hdfs.server.datanode中的类">ReplicaWaitingToBeRecovered</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">LocalReplica</span>
extends org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</pre>
<div class="block">This class is used for all replicas which are on local storage media
 and hence, are backed by files.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.ReplicaDirInfo.html" title="org.apache.hadoop.hdfs.server.datanode中的类">LocalReplica.ReplicaDirInfo</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.hadoop.hdfs.protocol.Block">
<!--   -->
</a>
<h3>从类继承的字段&nbsp;org.apache.hadoop.hdfs.protocol.Block</h3>
<code>BLOCK_FILE_PREFIX, blockFilePattern, METADATA_EXTENSION, metaFilePattern, metaOrBlockFilePattern</code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#blockDataExists--">blockDataExists</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#breakHardLinksIfNeeded--">breakHardLinksIfNeeded</a></span>()</code>
<div class="block">This function "breaks hardlinks" to the current replica file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#bumpReplicaGS-long-">bumpReplicaGS</a></span>(long&nbsp;newGS)</code>
<div class="block">Bump a replica's generation stamp to a new one.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#compareWith-org.apache.hadoop.hdfs.server.datanode.fsdataset.FsVolumeSpi.ScanInfo-">compareWith</a></span>(<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/FsVolumeSpi.ScanInfo.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的类">FsVolumeSpi.ScanInfo</a>&nbsp;info)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#copyBlockdata-java.net.URI-">copyBlockdata</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destination)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#copyMetadata-java.net.URI-">copyMetadata</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destination)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#deleteBlockData--">deleteBlockData</a></span>()</code>
<div class="block">Used to deletes the replica's block data.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#deleteMetadata--">deleteMetadata</a></span>()</code>
<div class="block">Used to deletes the replica's metadata.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#fsyncDirectory--">fsyncDirectory</a></span>()</code>
<div class="block">Sync the parent directory changes to durable device.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getBlockDataLength--">getBlockDataLength</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getBlockFile--">getBlockFile</a></span>()</code>
<div class="block">Get the full path of this replica's data file.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getBlockURI--">getBlockURI</a></span>()</code>
<div class="block">Get the <code>URI</code> for where the data of this replica is stored.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口">InputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getDataInputStream-long-">getDataInputStream</a></span>(long&nbsp;seekOffset)</code>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口"><code>InputStream</code></a> to the replica's data.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口">OutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getDataOutputStream-boolean-">getDataOutputStream</a></span>(boolean&nbsp;append)</code>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to the replica's data.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getDir--">getDir</a></span>()</code>
<div class="block">Return the parent directory path where this replica is located.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/LengthInputStream.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的类">LengthInputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getMetadataInputStream-long-">getMetadataInputStream</a></span>(long&nbsp;offset)</code>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口"><code>InputStream</code></a> to the replica's metadata.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getMetadataLength--">getMetadataLength</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口">OutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getMetadataOutputStream-boolean-">getMetadataOutputStream</a></span>(boolean&nbsp;append)</code>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to the replica's metadata.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getMetadataURI--">getMetadataURI</a></span>()</code>
<div class="block">Get the <code>URI</code> for where the metadata of this replica is stored.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getMetaFile--">getMetaFile</a></span>()</code>
<div class="block">Get the full path of this replica's meta file.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getPinning-org.apache.hadoop.fs.LocalFileSystem-">getPinning</a></span>(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS)</code>
<div class="block">Check whether the block was pinned.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#getPinning-org.apache.hadoop.fs.LocalFileSystem-org.apache.hadoop.fs.Path-">getPinning</a></span>(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS,
          org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Get pin status of a file by checking the sticky bit.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#metadataExists--">metadataExists</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.ReplicaDirInfo.html" title="org.apache.hadoop.hdfs.server.datanode中的类">LocalReplica.ReplicaDirInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#parseBaseDir-java.io.File-">parseBaseDir</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;dir)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#renameData-java.net.URI-">renameData</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destURI)</code>
<div class="block">Rename the data <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a> to that referenced by <code>destURI</code>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#renameMeta-java.net.URI-">renameMeta</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destURI)</code>
<div class="block">Rename the metadata <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a> to that referenced by <code>destURI</code>.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#setPinning-org.apache.hadoop.fs.LocalFileSystem-">setPinning</a></span>(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS)</code>
<div class="block">Set a block to be pinned on this datanode so that it cannot be moved
 by Balancer/Mover.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#setPinning-org.apache.hadoop.fs.LocalFileSystem-org.apache.hadoop.fs.Path-">setPinning</a></span>(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS,
          org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Set sticky bit on path to pin file.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#truncateBlock-org.apache.hadoop.hdfs.server.datanode.fsdataset.FsVolumeSpi-java.io.File-java.io.File-long-long-org.apache.hadoop.hdfs.server.datanode.FileIoProvider-">truncateBlock</a></span>(<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/FsVolumeSpi.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的接口">FsVolumeSpi</a>&nbsp;volume,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;blockFile,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;metaFile,
             long&nbsp;oldlen,
             long&nbsp;newlen,
             org.apache.hadoop.hdfs.server.datanode.FileIoProvider&nbsp;fileIoProvider)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#truncateBlock-long-">truncateBlock</a></span>(long&nbsp;newLength)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.html#updateWithReplica-org.apache.hadoop.hdfs.server.datanode.StorageLocation-">updateWithReplica</a></span>(org.apache.hadoop.hdfs.server.datanode.StorageLocation&nbsp;replicaLocation)</code>
<div class="block">Update this replica with the <code>StorageLocation</code> found.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hdfs.server.datanode.ReplicaInfo">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</h3>
<code>createInfo, getBytesReserved, getFileIoProvider, getNext, getOriginalBytesReserved, getOriginalReplica, getRecoveryID, getStorageUuid, getVolume, isOnTransientStorage, setNext, setRecoveryID, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hdfs.protocol.Block">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;org.apache.hadoop.hdfs.protocol.Block</h3>
<code>appendStringTo, compareTo, equals, filename2id, getBlockId, getBlockId, getBlockName, getGenerationStamp, getGenerationStamp, getNumBytes, hashCode, isBlockFilename, isMetaFilename, matchingIdAndGenStamp, metaToBlockFile, readFields, readId, set, setBlockId, setGenerationStamp, setNumBytes, toString, write, writeId</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hdfs.server.datanode.Replica">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;org.apache.hadoop.hdfs.server.datanode.Replica</h3>
<code>getBlockId, getBytesOnDisk, getGenerationStamp, getNumBytes, getState, getVisibleLength</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getBlockFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockFile</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;getBlockFile()</pre>
<div class="block">Get the full path of this replica's data file.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the full path of this replica's data file</dd>
</dl>
</li>
</ul>
<a name="getMetaFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaFile</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;getMetaFile()</pre>
<div class="block">Get the full path of this replica's meta file.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the full path of this replica's meta file</dd>
</dl>
</li>
</ul>
<a name="getDir--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDir</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;getDir()</pre>
<div class="block">Return the parent directory path where this replica is located.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the parent directory path where this replica is located</dd>
</dl>
</li>
</ul>
<a name="parseBaseDir-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseBaseDir</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.ReplicaDirInfo.html" title="org.apache.hadoop.hdfs.server.datanode中的类">LocalReplica.ReplicaDirInfo</a>&nbsp;parseBaseDir(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;dir)</pre>
</li>
</ul>
<a name="breakHardLinksIfNeeded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>breakHardLinksIfNeeded</h4>
<pre>public&nbsp;boolean&nbsp;breakHardLinksIfNeeded()
                               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">This function "breaks hardlinks" to the current replica file.

 When doing a DataNode upgrade, we create a bunch of hardlinks to each block
 file.  This cleverly ensures that both the old and the new storage
 directories can contain the same block file, without using additional space
 for the data.

 However, when we want to append to the replica file, we need to "break" the
 hardlink to ensure that the old snapshot continues to contain the old data
 length.  If we failed to do that, we could roll back to the previous/
 directory during a downgrade, and find that the block contents were longer
 than they were at the time of upgrade.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>breakHardLinksIfNeeded</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true only if data was copied.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getBlockURI--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockURI</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;getBlockURI()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Get the <code>URI</code> for where the data of this replica is stored.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getBlockURI</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><code>URI</code> for the location of replica data.</dd>
</dl>
</li>
</ul>
<a name="getDataInputStream-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataInputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口">InputStream</a>&nbsp;getDataInputStream(long&nbsp;seekOffset)
                               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口"><code>InputStream</code></a> to the replica's data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getDataInputStream</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>seekOffset</code> - the offset at which the read is started from.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口"><code>InputStream</code></a> to read the replica data.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if an error occurs in opening a stream to the data.</dd>
</dl>
</li>
</ul>
<a name="getDataOutputStream-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataOutputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口">OutputStream</a>&nbsp;getDataOutputStream(boolean&nbsp;append)
                                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to the replica's data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getDataOutputStream</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>append</code> - indicates if the block should be opened for append.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to write to the replica.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if an error occurs in creating an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a>.</dd>
</dl>
</li>
</ul>
<a name="blockDataExists--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockDataExists</h4>
<pre>public&nbsp;boolean&nbsp;blockDataExists()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>blockDataExists</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the replica's data exists.</dd>
</dl>
</li>
</ul>
<a name="deleteBlockData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteBlockData</h4>
<pre>public&nbsp;boolean&nbsp;deleteBlockData()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Used to deletes the replica's block data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>deleteBlockData</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the replica's data is successfully deleted.</dd>
</dl>
</li>
</ul>
<a name="getBlockDataLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockDataLength</h4>
<pre>public&nbsp;long&nbsp;getBlockDataLength()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getBlockDataLength</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the length of the block on storage.</dd>
</dl>
</li>
</ul>
<a name="getMetadataURI--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataURI</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;getMetadataURI()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Get the <code>URI</code> for where the metadata of this replica is stored.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getMetadataURI</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd><code>URI</code> for the location of replica metadata.</dd>
</dl>
</li>
</ul>
<a name="getMetadataInputStream-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataInputStream</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/LengthInputStream.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的类">LengthInputStream</a>&nbsp;getMetadataInputStream(long&nbsp;offset)
                                         throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="java.io中的类或接口"><code>InputStream</code></a> to the replica's metadata.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getMetadataInputStream</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>offset</code> - the offset at which the read is started from.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the <a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/LengthInputStream.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的类"><code>LengthInputStream</code></a> to read the replica metadata.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMetadataOutputStream-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataOutputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口">OutputStream</a>&nbsp;getMetadataOutputStream(boolean&nbsp;append)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Returns an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to the replica's metadata.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getMetadataOutputStream</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>append</code> - indicates if the block metadata should be opened for append.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a> to write to the replica's metadata.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if an error occurs in creating an <a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io中的类或接口"><code>OutputStream</code></a>.</dd>
</dl>
</li>
</ul>
<a name="metadataExists--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metadataExists</h4>
<pre>public&nbsp;boolean&nbsp;metadataExists()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>metadataExists</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the replica's metadata exists.</dd>
</dl>
</li>
</ul>
<a name="deleteMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteMetadata</h4>
<pre>public&nbsp;boolean&nbsp;deleteMetadata()</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Used to deletes the replica's metadata.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>deleteMetadata</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the replica's metadata is successfully deleted.</dd>
</dl>
</li>
</ul>
<a name="getMetadataLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataLength</h4>
<pre>public&nbsp;long&nbsp;getMetadataLength()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getMetadataLength</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>the length of the metadata on storage.</dd>
</dl>
</li>
</ul>
<a name="renameMeta-java.net.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameMeta</h4>
<pre>public&nbsp;boolean&nbsp;renameMeta(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destURI)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Rename the metadata <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a> to that referenced by <code>destURI</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>renameMeta</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>destURI</code> - the target <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a>.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the rename is successful.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if an exception occurs in the rename.</dd>
</dl>
</li>
</ul>
<a name="renameData-java.net.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameData</h4>
<pre>public&nbsp;boolean&nbsp;renameData(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destURI)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Rename the data <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a> to that referenced by <code>destURI</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>renameData</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>destURI</code> - the target <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口"><code>URI</code></a>.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the rename is successful.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if an exception occurs in the rename.</dd>
</dl>
</li>
</ul>
<a name="updateWithReplica-org.apache.hadoop.hdfs.server.datanode.StorageLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWithReplica</h4>
<pre>public&nbsp;void&nbsp;updateWithReplica(org.apache.hadoop.hdfs.server.datanode.StorageLocation&nbsp;replicaLocation)</pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Update this replica with the <code>StorageLocation</code> found.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>updateWithReplica</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>replicaLocation</code> - the <code>StorageLocation</code> found for this replica.</dd>
</dl>
</li>
</ul>
<a name="getPinning-org.apache.hadoop.fs.LocalFileSystem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinning</h4>
<pre>public&nbsp;boolean&nbsp;getPinning(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Check whether the block was pinned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>getPinning</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>localFS</code> - the local filesystem to use.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the block is pinned.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="setPinning-org.apache.hadoop.fs.LocalFileSystem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPinning</h4>
<pre>public&nbsp;void&nbsp;setPinning(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS)
                throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Set a block to be pinned on this datanode so that it cannot be moved
 by Balancer/Mover.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>setPinning</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>localFS</code> - the local filesystem to use.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if there is an exception in the pinning.</dd>
</dl>
</li>
</ul>
<a name="bumpReplicaGS-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bumpReplicaGS</h4>
<pre>public&nbsp;void&nbsp;bumpReplicaGS(long&nbsp;newGS)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">从类复制的说明:&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></span></div>
<div class="block">Bump a replica's generation stamp to a new one.
 Its on-disk meta file name is renamed to be the new one too.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>bumpReplicaGS</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>newGS</code> - new generation stamp</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code> - if the change fails</dd>
</dl>
</li>
</ul>
<a name="truncateBlock-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateBlock</h4>
<pre>public&nbsp;void&nbsp;truncateBlock(long&nbsp;newLength)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>truncateBlock</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="compareWith-org.apache.hadoop.hdfs.server.datanode.fsdataset.FsVolumeSpi.ScanInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareWith</h4>
<pre>public&nbsp;int&nbsp;compareWith(<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/FsVolumeSpi.ScanInfo.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的类">FsVolumeSpi.ScanInfo</a>&nbsp;info)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>compareWith</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
</dl>
</li>
</ul>
<a name="copyMetadata-java.net.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyMetadata</h4>
<pre>public&nbsp;void&nbsp;copyMetadata(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destination)
                  throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>copyMetadata</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="copyBlockdata-java.net.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyBlockdata</h4>
<pre>public&nbsp;void&nbsp;copyBlockdata(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="java.net中的类或接口">URI</a>&nbsp;destination)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code>copyBlockdata</code>&nbsp;在类中&nbsp;<code>org.apache.hadoop.hdfs.server.datanode.ReplicaInfo</code></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinning-org.apache.hadoop.fs.LocalFileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinning</h4>
<pre>public&nbsp;boolean&nbsp;getPinning(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS,
                          org.apache.hadoop.fs.Path&nbsp;path)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Get pin status of a file by checking the sticky bit.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>localFS</code> - local file system</dd>
<dd><code>path</code> - path to be checked</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if the file is pinned with sticky bit</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="setPinning-org.apache.hadoop.fs.LocalFileSystem-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPinning</h4>
<pre>public&nbsp;void&nbsp;setPinning(org.apache.hadoop.fs.LocalFileSystem&nbsp;localFS,
                       org.apache.hadoop.fs.Path&nbsp;path)
                throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Set sticky bit on path to pin file.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>localFS</code> - local file system</dd>
<dd><code>path</code> - path to be pinned with sticky bit</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="truncateBlock-org.apache.hadoop.hdfs.server.datanode.fsdataset.FsVolumeSpi-java.io.File-java.io.File-long-long-org.apache.hadoop.hdfs.server.datanode.FileIoProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateBlock</h4>
<pre>public static&nbsp;void&nbsp;truncateBlock(<a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/fsdataset/FsVolumeSpi.html" title="org.apache.hadoop.hdfs.server.datanode.fsdataset中的接口">FsVolumeSpi</a>&nbsp;volume,
                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;blockFile,
                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io中的类或接口">File</a>&nbsp;metaFile,
                                 long&nbsp;oldlen,
                                 long&nbsp;newlen,
                                 org.apache.hadoop.hdfs.server.datanode.FileIoProvider&nbsp;fileIoProvider)
                          throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="fsyncDirectory--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fsyncDirectory</h4>
<pre>public&nbsp;void&nbsp;fsyncDirectory()
                    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></pre>
<div class="block">Sync the parent directory changes to durable device.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io中的类或接口">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/LocalReplica.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/FinalizedReplica.html" title="org.apache.hadoop.hdfs.server.datanode中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/datanode/LocalReplica.ReplicaDirInfo.html" title="org.apache.hadoop.hdfs.server.datanode中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/datanode/LocalReplica.html" target="_top">框架</a></li>
<li><a href="LocalReplica.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.hadoop.hdfs.protocol.Block">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2019 <a href="http://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
